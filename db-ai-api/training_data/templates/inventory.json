{
  "domain": "inventory",
  "description": "Inventory, stock, and warehouse query examples",
  "tables": ["Product", "ProductAvailability", "Storage"],
  "examples": [
    {
      "id": "stock_total_001",
      "category": "aggregation",
      "complexity": "simple",
      "question_en": "Total stock quantity",
      "question_uk": "Загальна кількість на складі",
      "variations_en": ["all inventory", "total inventory count"],
      "variations_uk": ["весь склад", "загальні залишки"],
      "sql": "SELECT SUM(Amount) as TotalStock FROM dbo.ProductAvailability WHERE Deleted = 0",
      "tables_used": ["ProductAvailability"]
    },
    {
      "id": "stock_by_product_002",
      "category": "listing",
      "complexity": "medium",
      "question_en": "Stock levels by product",
      "question_uk": "Залишки по товарах",
      "variations_en": ["product inventory", "what's in stock"],
      "variations_uk": ["запаси товарів", "що є на складі"],
      "sql": "SELECT TOP 50 p.ID, p.Name, p.VendorCode, SUM(pa.Amount) as StockQty FROM dbo.Product p JOIN dbo.ProductAvailability pa ON p.ID = pa.ProductID WHERE p.Deleted = 0 AND pa.Deleted = 0 GROUP BY p.ID, p.Name, p.VendorCode ORDER BY StockQty DESC",
      "tables_used": ["Product", "ProductAvailability"]
    },
    {
      "id": "stock_low_003",
      "category": "filter",
      "complexity": "medium",
      "question_en": "Products with low stock",
      "question_uk": "Товари з низьким запасом",
      "variations_en": ["low inventory", "need to reorder"],
      "variations_uk": ["мало на складі", "потрібно замовити"],
      "sql": "SELECT TOP 50 p.ID, p.Name, p.VendorCode, SUM(pa.Amount) as StockQty FROM dbo.Product p JOIN dbo.ProductAvailability pa ON p.ID = pa.ProductID WHERE p.Deleted = 0 AND pa.Deleted = 0 GROUP BY p.ID, p.Name, p.VendorCode HAVING SUM(pa.Amount) < 10 ORDER BY StockQty",
      "tables_used": ["Product", "ProductAvailability"]
    },
    {
      "id": "stock_zero_004",
      "category": "filter",
      "complexity": "medium",
      "question_en": "Out of stock products",
      "question_uk": "Товари яких немає в наявності",
      "variations_en": ["zero stock", "no inventory"],
      "variations_uk": ["нуль на складі", "відсутні товари"],
      "sql": "SELECT TOP 50 p.ID, p.Name, p.VendorCode FROM dbo.Product p LEFT JOIN dbo.ProductAvailability pa ON p.ID = pa.ProductID AND pa.Deleted = 0 WHERE p.Deleted = 0 GROUP BY p.ID, p.Name, p.VendorCode HAVING ISNULL(SUM(pa.Amount), 0) = 0",
      "tables_used": ["Product", "ProductAvailability"]
    },
    {
      "id": "stock_high_005",
      "category": "ranking",
      "complexity": "medium",
      "question_en": "Products with highest stock",
      "question_uk": "Товари з найбільшим запасом",
      "variations_en": ["most stocked items", "highest inventory"],
      "variations_uk": ["найбільше на складі", "максимальні запаси"],
      "sql": "SELECT TOP 20 p.ID, p.Name, p.VendorCode, SUM(pa.Amount) as StockQty FROM dbo.Product p JOIN dbo.ProductAvailability pa ON p.ID = pa.ProductID WHERE p.Deleted = 0 AND pa.Deleted = 0 GROUP BY p.ID, p.Name, p.VendorCode ORDER BY StockQty DESC",
      "tables_used": ["Product", "ProductAvailability"]
    },
    {
      "id": "storage_list_006",
      "category": "listing",
      "complexity": "simple",
      "question_en": "List all warehouses",
      "question_uk": "Список всіх складів",
      "variations_en": ["warehouses", "storage locations"],
      "variations_uk": ["склади", "місця зберігання"],
      "sql": "SELECT ID, Name FROM dbo.Storage WHERE Deleted = 0 ORDER BY Name",
      "tables_used": ["Storage"]
    },
    {
      "id": "stock_by_storage_007",
      "category": "aggregation",
      "complexity": "medium",
      "question_en": "Stock by warehouse",
      "question_uk": "Залишки по складах",
      "variations_en": ["inventory per warehouse", "warehouse stock levels"],
      "variations_uk": ["запаси на складах", "по кожному складу"],
      "sql": "SELECT st.ID, st.Name, COUNT(DISTINCT pa.ProductID) as ProductCount, SUM(pa.Amount) as TotalQty FROM dbo.Storage st JOIN dbo.ProductAvailability pa ON st.ID = pa.StorageID WHERE st.Deleted = 0 AND pa.Deleted = 0 GROUP BY st.ID, st.Name ORDER BY TotalQty DESC",
      "tables_used": ["Storage", "ProductAvailability"]
    },
    {
      "id": "stock_value_008",
      "category": "aggregation",
      "complexity": "complex",
      "question_en": "Total stock value",
      "question_uk": "Загальна вартість складу",
      "variations_en": ["inventory value", "stock worth"],
      "variations_uk": ["вартість запасів", "скільки коштує склад"],
      "sql": "SELECT SUM(pa.Amount * p.Price) as TotalStockValue FROM dbo.ProductAvailability pa JOIN dbo.Product p ON pa.ProductID = p.ID WHERE pa.Deleted = 0 AND p.Deleted = 0",
      "tables_used": ["ProductAvailability", "Product"]
    },
    {
      "id": "stock_product_search_012",
      "category": "search",
      "complexity": "medium",
      "question_en": "Check stock for specific product",
      "question_uk": "Перевірити залишок конкретного товару",
      "variations_en": ["product availability", "is product in stock"],
      "variations_uk": ["наявність товару", "чи є на складі"],
      "sql": "SELECT p.ID, p.Name, p.VendorCode, st.Name as Storage, pa.Amount FROM dbo.Product p JOIN dbo.ProductAvailability pa ON p.ID = pa.ProductID JOIN dbo.Storage st ON pa.StorageID = st.ID WHERE p.Deleted = 0 AND pa.Deleted = 0 AND (p.Name LIKE N'%keyword%' OR p.VendorCode LIKE N'%keyword%')",
      "tables_used": ["Product", "ProductAvailability", "Storage"]
    },
    {
      "id": "stock_sem_products_013",
      "category": "search",
      "complexity": "medium",
      "question_en": "SEM products stock levels",
      "question_uk": "Залишки товарів SEM на складі",
      "variations_en": ["SEM inventory", "SEM product availability"],
      "variations_uk": ["скільки SEM на складі", "залишки SEM"],
      "sql": "SELECT p.ID, p.Name, p.VendorCode, SUM(pa.Amount) as StockQty FROM dbo.Product p JOIN dbo.ProductAvailability pa ON p.ID = pa.ProductID WHERE p.Deleted = 0 AND pa.Deleted = 0 AND p.VendorCode LIKE N'SEM%' GROUP BY p.ID, p.Name, p.VendorCode ORDER BY StockQty DESC",
      "tables_used": ["Product", "ProductAvailability"]
    },
    {
      "id": "stock_turnover_014",
      "category": "aggregation",
      "complexity": "complex",
      "question_en": "Stock turnover rate",
      "question_uk": "Оборотність запасів",
      "variations_en": ["inventory turnover", "how fast stock sells"],
      "variations_uk": ["швидкість продажу", "як швидко продається"],
      "sql": "SELECT TOP 20 p.ID, p.Name, SUM(oi.Qty) as SoldQty, ISNULL(SUM(pa.Amount), 0) as CurrentStock, CASE WHEN ISNULL(SUM(pa.Amount), 0) > 0 THEN SUM(oi.Qty) * 1.0 / SUM(pa.Amount) ELSE 0 END as TurnoverRatio FROM dbo.Product p JOIN dbo.OrderItem oi ON p.ID = oi.ProductID LEFT JOIN dbo.ProductAvailability pa ON p.ID = pa.ProductID AND pa.Deleted = 0 WHERE p.Deleted = 0 AND oi.Deleted = 0 AND oi.Created >= DATEADD(month, -3, GETDATE()) GROUP BY p.ID, p.Name ORDER BY TurnoverRatio DESC",
      "tables_used": ["Product", "OrderItem", "ProductAvailability"]
    },
    {
      "id": "stock_count_products_015",
      "category": "aggregation",
      "complexity": "simple",
      "question_en": "Number of products in stock",
      "question_uk": "Кількість товарів на складі",
      "variations_en": ["products with stock", "how many products available"],
      "variations_uk": ["товарів в наявності", "скільки товарів є"],
      "sql": "SELECT COUNT(DISTINCT pa.ProductID) as ProductsInStock FROM dbo.ProductAvailability pa WHERE pa.Deleted = 0 AND pa.Amount > 0",
      "tables_used": ["ProductAvailability"]
    },
    {
      "id": "stock_value_by_storage_016",
      "category": "aggregation",
      "complexity": "complex",
      "question_en": "Stock value by warehouse",
      "question_uk": "Вартість запасів по складах",
      "variations_en": ["warehouse inventory value", "value per warehouse"],
      "variations_uk": ["вартість по складах", "скільки коштує кожен склад"],
      "sql": "SELECT st.ID, st.Name, SUM(pa.Amount * p.Price) as StockValue, SUM(pa.Amount) as TotalQty FROM dbo.Storage st JOIN dbo.ProductAvailability pa ON st.ID = pa.StorageID JOIN dbo.Product p ON pa.ProductID = p.ID WHERE st.Deleted = 0 AND pa.Deleted = 0 AND p.Deleted = 0 GROUP BY st.ID, st.Name ORDER BY StockValue DESC",
      "tables_used": ["Storage", "ProductAvailability", "Product"]
    },
    {
      "id": "stock_deadstock_017",
      "category": "filter",
      "complexity": "complex",
      "question_en": "Dead stock (no sales in 6 months)",
      "question_uk": "Мертвий товар (без продажів 6 місяців)",
      "variations_en": ["unsold inventory", "stale stock"],
      "variations_uk": ["непроданий товар", "застарілі запаси"],
      "sql": "SELECT TOP 30 p.ID, p.Name, p.VendorCode, ISNULL(SUM(pa.Amount), 0) as StockQty, MAX(oi.Created) as LastSaleDate FROM dbo.Product p JOIN dbo.ProductAvailability pa ON p.ID = pa.ProductID LEFT JOIN dbo.OrderItem oi ON p.ID = oi.ProductID AND oi.Deleted = 0 WHERE p.Deleted = 0 AND pa.Deleted = 0 GROUP BY p.ID, p.Name, p.VendorCode HAVING ISNULL(SUM(pa.Amount), 0) > 0 AND (MAX(oi.Created) IS NULL OR MAX(oi.Created) < DATEADD(month, -6, GETDATE())) ORDER BY StockQty DESC",
      "tables_used": ["Product", "ProductAvailability", "OrderItem"]
    },
    {
      "id": "stock_available_020",
      "category": "listing",
      "complexity": "simple",
      "question_en": "Available products for sale",
      "question_uk": "Доступні товари для продажу",
      "variations_en": ["sellable inventory", "products ready to sell"],
      "variations_uk": ["товари для продажу", "що можна продати"],
      "sql": "SELECT TOP 100 p.ID, p.Name, p.VendorCode, p.Price, SUM(pa.Amount) as AvailableQty FROM dbo.Product p JOIN dbo.ProductAvailability pa ON p.ID = pa.ProductID WHERE p.Deleted = 0 AND pa.Deleted = 0 AND pa.Amount > 0 GROUP BY p.ID, p.Name, p.VendorCode, p.Price ORDER BY AvailableQty DESC",
      "tables_used": ["Product", "ProductAvailability"]
    },
    {
      "id": "stock_product_code_021",
      "category": "search",
      "complexity": "simple",
      "question_en": "Stock for product by vendor code",
      "question_uk": "Залишок товару за артикулом",
      "variations_en": ["find product stock", "check product code inventory"],
      "variations_uk": ["скільки товару по коду", "наявність по артикулу"],
      "sql": "SELECT p.ID, p.Name, p.VendorCode, SUM(pa.Amount) as StockQty FROM dbo.Product p JOIN dbo.ProductAvailability pa ON p.ID = pa.ProductID WHERE p.Deleted = 0 AND pa.Deleted = 0 AND p.VendorCode LIKE N'%code%' GROUP BY p.ID, p.Name, p.VendorCode",
      "tables_used": ["Product", "ProductAvailability"]
    },
    {
      "id": "stock_total_sem_022",
      "category": "aggregation",
      "complexity": "simple",
      "question_en": "Total SEM products in stock",
      "question_uk": "Скільки товару SEM на складі",
      "variations_en": ["SEM stock total", "all SEM inventory"],
      "variations_uk": ["загальна кількість SEM", "всього SEM на складі"],
      "sql": "SELECT SUM(pa.Amount) as TotalSEMStock FROM dbo.ProductAvailability pa JOIN dbo.Product p ON pa.ProductID = p.ID WHERE pa.Deleted = 0 AND p.Deleted = 0 AND p.VendorCode LIKE N'SEM%'",
      "tables_used": ["ProductAvailability", "Product"]
    }
  ]
}
