{
  "domain": "supply_chain",
  "description": "Supply orders, vendors, payments, and procurement examples",
  "tables": [
    "SupplyOrder",
    "SupplyOrganization",
    "SupplyPaymentTask",
    "SupplyOrganizationAgreement",
    "Storage",
    "Organization"
  ],
  "examples": [
    {
      "id": "supply_order_001",
      "category": "list",
      "complexity": "simple",
      "question_en": "List all supply orders",
      "question_uk": "Список всіх замовлень постачальникам",
      "variations_en": ["show supply orders", "vendor orders", "purchase orders"],
      "variations_uk": ["покажи замовлення постачальникам", "закупівлі"],
      "sql": "SELECT TOP 100 ID, Created, TotalSum, Status FROM dbo.SupplyOrder WHERE Deleted = 0 ORDER BY Created DESC",
      "tables_used": ["SupplyOrder"]
    },
    {
      "id": "supply_order_recent_002",
      "category": "filter",
      "complexity": "simple",
      "question_en": "Recent supply orders (last month)",
      "question_uk": "Останні замовлення постачальникам (за місяць)",
      "variations_en": ["supply orders this month", "recent purchases"],
      "variations_uk": ["замовлення за місяць", "нові закупівлі"],
      "sql": "SELECT ID, Created, TotalSum, Status FROM dbo.SupplyOrder WHERE Deleted = 0 AND Created >= DATEADD(month, -1, GETDATE()) ORDER BY Created DESC",
      "tables_used": ["SupplyOrder"]
    },
    {
      "id": "supply_order_by_org_003",
      "category": "list",
      "complexity": "medium",
      "question_en": "Supply orders by organization",
      "question_uk": "Замовлення постачальникам по організаціях",
      "variations_en": ["orders per organization", "show supply orders with org"],
      "variations_uk": ["замовлення по організаціям", "закупівлі організацій"],
      "sql": "SELECT o.ID, o.Created, o.TotalSum, org.Name as OrganizationName FROM dbo.SupplyOrder o JOIN dbo.Organization org ON o.OrganizationID = org.ID WHERE o.Deleted = 0 ORDER BY o.Created DESC",
      "tables_used": ["SupplyOrder", "Organization"]
    },
    {
      "id": "supply_order_total_by_org_004",
      "category": "aggregation",
      "complexity": "medium",
      "question_en": "Total supply order amount by organization",
      "question_uk": "Сума замовлень постачальникам по організаціях",
      "variations_en": ["purchase totals by org", "supply spending per organization"],
      "variations_uk": ["закупівлі по організаціям", "сума закупівель"],
      "sql": "SELECT org.Name as OrganizationName, SUM(o.TotalSum) as TotalAmount, COUNT(o.ID) as OrderCount FROM dbo.SupplyOrder o JOIN dbo.Organization org ON o.OrganizationID = org.ID WHERE o.Deleted = 0 GROUP BY org.ID, org.Name ORDER BY TotalAmount DESC",
      "tables_used": ["SupplyOrder", "Organization"]
    },
    {
      "id": "supply_vendor_list_005",
      "category": "list",
      "complexity": "simple",
      "question_en": "List all vendors/suppliers",
      "question_uk": "Список всіх постачальників",
      "variations_en": ["show vendors", "suppliers list", "supply organizations"],
      "variations_uk": ["покажи постачальників", "список постачальників"],
      "sql": "SELECT ID, Name, Phone, Address FROM dbo.SupplyOrganization WHERE Deleted = 0 ORDER BY Name",
      "tables_used": ["SupplyOrganization"]
    },
    {
      "id": "supply_vendor_count_006",
      "category": "aggregation",
      "complexity": "simple",
      "question_en": "Total number of vendors",
      "question_uk": "Загальна кількість постачальників",
      "variations_en": ["how many vendors", "count suppliers", "vendor count"],
      "variations_uk": ["скільки постачальників", "кількість постачальників"],
      "sql": "SELECT COUNT(*) as VendorCount FROM dbo.SupplyOrganization WHERE Deleted = 0",
      "tables_used": ["SupplyOrganization"]
    },
    {
      "id": "supply_orders_by_vendor_007",
      "category": "list",
      "complexity": "medium",
      "question_en": "Supply orders with vendor information",
      "question_uk": "Замовлення постачальникам з інформацією про постачальника",
      "variations_en": ["orders by vendor", "purchases from suppliers"],
      "variations_uk": ["замовлення по постачальникам"],
      "sql": "SELECT o.ID, o.Created, o.TotalSum, so.Name as VendorName FROM dbo.SupplyOrder o JOIN dbo.SupplyOrganizationAgreement soa ON o.SupplyOrganizationAgreementID = soa.ID JOIN dbo.SupplyOrganization so ON soa.SupplyOrganizationID = so.ID WHERE o.Deleted = 0 ORDER BY o.Created DESC",
      "tables_used": ["SupplyOrder", "SupplyOrganizationAgreement", "SupplyOrganization"]
    },
    {
      "id": "supply_payment_tasks_008",
      "category": "list",
      "complexity": "simple",
      "question_en": "List supply payment tasks",
      "question_uk": "Список платежів постачальникам",
      "variations_en": ["vendor payments", "supply payments", "payment tasks"],
      "variations_uk": ["платежі постачальникам", "заплановані платежі"],
      "sql": "SELECT TOP 100 ID, Created, Sum, Status FROM dbo.SupplyPaymentTask WHERE Deleted = 0 ORDER BY Created DESC",
      "tables_used": ["SupplyPaymentTask"]
    },
    {
      "id": "supply_payment_by_vendor_009",
      "category": "aggregation",
      "complexity": "complex",
      "question_en": "Total payments by vendor",
      "question_uk": "Сума платежів по постачальникам",
      "variations_en": ["payment amounts per supplier", "vendor payment totals"],
      "variations_uk": ["платежі постачальникам сума", "скільки заплатили постачальникам"],
      "sql": "SELECT so.Name as VendorName, SUM(spt.Sum) as TotalPaid, COUNT(spt.ID) as PaymentCount FROM dbo.SupplyPaymentTask spt JOIN dbo.SupplyOrder o ON spt.SupplyOrderID = o.ID JOIN dbo.SupplyOrganizationAgreement soa ON o.SupplyOrganizationAgreementID = soa.ID JOIN dbo.SupplyOrganization so ON soa.SupplyOrganizationID = so.ID WHERE spt.Deleted = 0 GROUP BY so.ID, so.Name ORDER BY TotalPaid DESC",
      "tables_used": ["SupplyPaymentTask", "SupplyOrder", "SupplyOrganizationAgreement", "SupplyOrganization"]
    },
    {
      "id": "supply_order_by_storage_010",
      "category": "aggregation",
      "complexity": "medium",
      "question_en": "Supply orders by warehouse/storage",
      "question_uk": "Замовлення постачальникам по складах",
      "variations_en": ["orders per warehouse", "supply by storage"],
      "variations_uk": ["закупівлі по складах", "замовлення на склад"],
      "sql": "SELECT s.Name as StorageName, COUNT(o.ID) as OrderCount, SUM(o.TotalSum) as TotalAmount FROM dbo.SupplyOrder o JOIN dbo.Storage s ON o.StorageID = s.ID WHERE o.Deleted = 0 GROUP BY s.ID, s.Name ORDER BY TotalAmount DESC",
      "tables_used": ["SupplyOrder", "Storage"]
    },
    {
      "id": "supply_top_vendors_011",
      "category": "ranking",
      "complexity": "complex",
      "question_en": "Top 10 vendors by purchase amount",
      "question_uk": "Топ 10 постачальників за сумою закупівель",
      "variations_en": ["best suppliers", "biggest vendors", "top suppliers by spend"],
      "variations_uk": ["найкращі постачальники", "топ постачальників"],
      "sql": "SELECT TOP 10 so.Name as VendorName, SUM(o.TotalSum) as TotalPurchases, COUNT(o.ID) as OrderCount FROM dbo.SupplyOrder o JOIN dbo.SupplyOrganizationAgreement soa ON o.SupplyOrganizationAgreementID = soa.ID JOIN dbo.SupplyOrganization so ON soa.SupplyOrganizationID = so.ID WHERE o.Deleted = 0 GROUP BY so.ID, so.Name ORDER BY TotalPurchases DESC",
      "tables_used": ["SupplyOrder", "SupplyOrganizationAgreement", "SupplyOrganization"]
    },
    {
      "id": "supply_pending_payments_012",
      "category": "filter",
      "complexity": "medium",
      "question_en": "Pending supply payments",
      "question_uk": "Незавершені платежі постачальникам",
      "variations_en": ["unpaid supplier invoices", "outstanding vendor payments"],
      "variations_uk": ["неоплачені закупівлі", "заборгованість постачальникам"],
      "sql": "SELECT spt.ID, spt.Created, spt.Sum, so.Name as VendorName FROM dbo.SupplyPaymentTask spt JOIN dbo.SupplyOrder o ON spt.SupplyOrderID = o.ID JOIN dbo.SupplyOrganizationAgreement soa ON o.SupplyOrganizationAgreementID = soa.ID JOIN dbo.SupplyOrganization so ON soa.SupplyOrganizationID = so.ID WHERE spt.Deleted = 0 AND spt.Status = 0 ORDER BY spt.Created",
      "tables_used": ["SupplyPaymentTask", "SupplyOrder", "SupplyOrganizationAgreement", "SupplyOrganization"]
    },
    {
      "id": "supply_agreement_list_013",
      "category": "list",
      "complexity": "simple",
      "question_en": "List vendor agreements",
      "question_uk": "Список договорів з постачальниками",
      "variations_en": ["supplier contracts", "vendor agreements"],
      "variations_uk": ["договори постачальників", "контракти з постачальниками"],
      "sql": "SELECT soa.ID, soa.Name, so.Name as VendorName FROM dbo.SupplyOrganizationAgreement soa JOIN dbo.SupplyOrganization so ON soa.SupplyOrganizationID = so.ID WHERE soa.Deleted = 0 ORDER BY so.Name",
      "tables_used": ["SupplyOrganizationAgreement", "SupplyOrganization"]
    },
    {
      "id": "supply_orders_this_year_014",
      "category": "filter",
      "complexity": "simple",
      "question_en": "Supply orders this year",
      "question_uk": "Замовлення постачальникам за цей рік",
      "variations_en": ["yearly purchases", "this year supply orders"],
      "variations_uk": ["закупівлі за рік", "річні замовлення"],
      "sql": "SELECT ID, Created, TotalSum FROM dbo.SupplyOrder WHERE Deleted = 0 AND YEAR(Created) = YEAR(GETDATE()) ORDER BY Created DESC",
      "tables_used": ["SupplyOrder"]
    },
    {
      "id": "supply_monthly_totals_015",
      "category": "aggregation",
      "complexity": "medium",
      "question_en": "Monthly supply order totals",
      "question_uk": "Щомісячні суми закупівель",
      "variations_en": ["purchases by month", "monthly procurement"],
      "variations_uk": ["закупівлі по місяцях", "помісячні закупівлі"],
      "sql": "SELECT YEAR(Created) as Year, MONTH(Created) as Month, SUM(TotalSum) as MonthlyTotal, COUNT(*) as OrderCount FROM dbo.SupplyOrder WHERE Deleted = 0 GROUP BY YEAR(Created), MONTH(Created) ORDER BY Year DESC, Month DESC",
      "tables_used": ["SupplyOrder"]
    },
    {
      "id": "supply_avg_order_size_016",
      "category": "aggregation",
      "complexity": "simple",
      "question_en": "Average supply order amount",
      "question_uk": "Середня сума замовлення постачальникам",
      "variations_en": ["avg purchase size", "average order value"],
      "variations_uk": ["середній чек закупівлі", "середнє замовлення"],
      "sql": "SELECT AVG(TotalSum) as AvgOrderAmount, MIN(TotalSum) as MinOrder, MAX(TotalSum) as MaxOrder FROM dbo.SupplyOrder WHERE Deleted = 0",
      "tables_used": ["SupplyOrder"]
    },
    {
      "id": "supply_vendor_order_count_017",
      "category": "aggregation",
      "complexity": "complex",
      "question_en": "Number of orders per vendor",
      "question_uk": "Кількість замовлень по постачальникам",
      "variations_en": ["orders count by supplier", "vendor order frequency"],
      "variations_uk": ["скільки замовлень у постачальника", "частота замовлень"],
      "sql": "SELECT so.Name as VendorName, COUNT(o.ID) as OrderCount, MIN(o.Created) as FirstOrder, MAX(o.Created) as LastOrder FROM dbo.SupplyOrder o JOIN dbo.SupplyOrganizationAgreement soa ON o.SupplyOrganizationAgreementID = soa.ID JOIN dbo.SupplyOrganization so ON soa.SupplyOrganizationID = so.ID WHERE o.Deleted = 0 GROUP BY so.ID, so.Name ORDER BY OrderCount DESC",
      "tables_used": ["SupplyOrder", "SupplyOrganizationAgreement", "SupplyOrganization"]
    },
    {
      "id": "supply_large_orders_018",
      "category": "filter",
      "complexity": "medium",
      "question_en": "Large supply orders (over 100000)",
      "question_uk": "Великі замовлення постачальникам (більше 100000)",
      "variations_en": ["big purchases", "expensive supply orders"],
      "variations_uk": ["великі закупівлі", "дорогі замовлення"],
      "sql": "SELECT o.ID, o.Created, o.TotalSum, so.Name as VendorName FROM dbo.SupplyOrder o JOIN dbo.SupplyOrganizationAgreement soa ON o.SupplyOrganizationAgreementID = soa.ID JOIN dbo.SupplyOrganization so ON soa.SupplyOrganizationID = so.ID WHERE o.Deleted = 0 AND o.TotalSum > 100000 ORDER BY o.TotalSum DESC",
      "tables_used": ["SupplyOrder", "SupplyOrganizationAgreement", "SupplyOrganization"]
    },
    {
      "id": "supply_storage_org_019",
      "category": "list",
      "complexity": "medium",
      "question_en": "Supply orders with storage and organization",
      "question_uk": "Замовлення з складом та організацією",
      "variations_en": ["orders with warehouse and org info"],
      "variations_uk": ["замовлення зі складом та організацією"],
      "sql": "SELECT o.ID, o.Created, o.TotalSum, s.Name as StorageName, org.Name as OrganizationName FROM dbo.SupplyOrder o JOIN dbo.Storage s ON o.StorageID = s.ID JOIN dbo.Organization org ON o.OrganizationID = org.ID WHERE o.Deleted = 0 ORDER BY o.Created DESC",
      "tables_used": ["SupplyOrder", "Storage", "Organization"]
    },
    {
      "id": "supply_payment_total_020",
      "category": "aggregation",
      "complexity": "simple",
      "question_en": "Total supply payments",
      "question_uk": "Загальна сума платежів постачальникам",
      "variations_en": ["total vendor payments", "sum of supplier payments"],
      "variations_uk": ["скільки заплатили постачальникам", "сума платежів"],
      "sql": "SELECT SUM(Sum) as TotalPayments, COUNT(*) as PaymentCount FROM dbo.SupplyPaymentTask WHERE Deleted = 0",
      "tables_used": ["SupplyPaymentTask"]
    },
    {
      "id": "supply_vendor_search_021",
      "category": "search",
      "complexity": "simple",
      "question_en": "Find vendor by name",
      "question_uk": "Знайти постачальника по імені",
      "variations_en": ["search supplier", "lookup vendor"],
      "variations_uk": ["пошук постачальника", "знайти постачальника"],
      "sql": "SELECT ID, Name, Phone, Address FROM dbo.SupplyOrganization WHERE Deleted = 0 AND Name LIKE '%keyword%' ORDER BY Name",
      "tables_used": ["SupplyOrganization"]
    },
    {
      "id": "supply_org_storage_summary_022",
      "category": "aggregation",
      "complexity": "complex",
      "question_en": "Supply summary by organization and storage",
      "question_uk": "Зведення закупівель по організаціях та складах",
      "variations_en": ["purchases by org and warehouse"],
      "variations_uk": ["закупівлі по організаціях та складах"],
      "sql": "SELECT org.Name as OrganizationName, s.Name as StorageName, SUM(o.TotalSum) as TotalAmount, COUNT(o.ID) as OrderCount FROM dbo.SupplyOrder o JOIN dbo.Organization org ON o.OrganizationID = org.ID JOIN dbo.Storage s ON o.StorageID = s.ID WHERE o.Deleted = 0 GROUP BY org.ID, org.Name, s.ID, s.Name ORDER BY TotalAmount DESC",
      "tables_used": ["SupplyOrder", "Organization", "Storage"]
    },
    {
      "id": "supply_recent_vendor_orders_023",
      "category": "list",
      "complexity": "complex",
      "question_en": "Recent orders for each vendor",
      "question_uk": "Останні замовлення по постачальникам",
      "variations_en": ["latest orders per supplier"],
      "variations_uk": ["нові замовлення постачальникам"],
      "sql": "SELECT so.Name as VendorName, o.ID, o.Created, o.TotalSum FROM dbo.SupplyOrder o JOIN dbo.SupplyOrganizationAgreement soa ON o.SupplyOrganizationAgreementID = soa.ID JOIN dbo.SupplyOrganization so ON soa.SupplyOrganizationID = so.ID WHERE o.Deleted = 0 AND o.Created >= DATEADD(month, -1, GETDATE()) ORDER BY so.Name, o.Created DESC",
      "tables_used": ["SupplyOrder", "SupplyOrganizationAgreement", "SupplyOrganization"]
    },
    {
      "id": "supply_payment_by_order_024",
      "category": "list",
      "complexity": "medium",
      "question_en": "Payments for each supply order",
      "question_uk": "Платежі по кожному замовленню",
      "variations_en": ["order payments breakdown"],
      "variations_uk": ["платежі по замовленнях"],
      "sql": "SELECT o.ID as OrderID, o.TotalSum as OrderAmount, SUM(spt.Sum) as PaidAmount, o.TotalSum - ISNULL(SUM(spt.Sum), 0) as RemainingAmount FROM dbo.SupplyOrder o LEFT JOIN dbo.SupplyPaymentTask spt ON spt.SupplyOrderID = o.ID AND spt.Deleted = 0 WHERE o.Deleted = 0 GROUP BY o.ID, o.TotalSum ORDER BY RemainingAmount DESC",
      "tables_used": ["SupplyOrder", "SupplyPaymentTask"]
    },
    {
      "id": "supply_vendor_last_order_025",
      "category": "aggregation",
      "complexity": "complex",
      "question_en": "Last order date for each vendor",
      "question_uk": "Дата останнього замовлення по постачальникам",
      "variations_en": ["when did we last order from vendor"],
      "variations_uk": ["коли останній раз замовляли"],
      "sql": "SELECT so.Name as VendorName, MAX(o.Created) as LastOrderDate, DATEDIFF(day, MAX(o.Created), GETDATE()) as DaysSinceLastOrder FROM dbo.SupplyOrder o JOIN dbo.SupplyOrganizationAgreement soa ON o.SupplyOrganizationAgreementID = soa.ID JOIN dbo.SupplyOrganization so ON soa.SupplyOrganizationID = so.ID WHERE o.Deleted = 0 GROUP BY so.ID, so.Name ORDER BY LastOrderDate DESC",
      "tables_used": ["SupplyOrder", "SupplyOrganizationAgreement", "SupplyOrganization"]
    },
    {
      "id": "supply_inactive_vendors_026",
      "category": "filter",
      "complexity": "complex",
      "question_en": "Inactive vendors (no orders in 6 months)",
      "question_uk": "Неактивні постачальники (без замовлень 6 місяців)",
      "variations_en": ["dormant suppliers", "vendors without recent orders"],
      "variations_uk": ["постачальники без замовлень", "неактивні постачальники"],
      "sql": "SELECT so.Name as VendorName, MAX(o.Created) as LastOrderDate FROM dbo.SupplyOrganization so LEFT JOIN dbo.SupplyOrganizationAgreement soa ON soa.SupplyOrganizationID = so.ID LEFT JOIN dbo.SupplyOrder o ON o.SupplyOrganizationAgreementID = soa.ID AND o.Deleted = 0 WHERE so.Deleted = 0 GROUP BY so.ID, so.Name HAVING MAX(o.Created) IS NULL OR MAX(o.Created) < DATEADD(month, -6, GETDATE()) ORDER BY LastOrderDate",
      "tables_used": ["SupplyOrganization", "SupplyOrganizationAgreement", "SupplyOrder"]
    },
    {
      "id": "supply_weekly_orders_027",
      "category": "aggregation",
      "complexity": "medium",
      "question_en": "Weekly supply order totals",
      "question_uk": "Щотижневі суми закупівель",
      "variations_en": ["orders by week"],
      "variations_uk": ["закупівлі по тижнях"],
      "sql": "SELECT DATEPART(year, Created) as Year, DATEPART(week, Created) as Week, SUM(TotalSum) as WeeklyTotal, COUNT(*) as OrderCount FROM dbo.SupplyOrder WHERE Deleted = 0 AND Created >= DATEADD(month, -3, GETDATE()) GROUP BY DATEPART(year, Created), DATEPART(week, Created) ORDER BY Year DESC, Week DESC",
      "tables_used": ["SupplyOrder"]
    },
    {
      "id": "supply_completed_payments_028",
      "category": "filter",
      "complexity": "simple",
      "question_en": "Completed supply payments",
      "question_uk": "Виконані платежі постачальникам",
      "variations_en": ["paid vendor invoices"],
      "variations_uk": ["оплачені замовлення"],
      "sql": "SELECT ID, Created, Sum, Status FROM dbo.SupplyPaymentTask WHERE Deleted = 0 AND Status = 1 ORDER BY Created DESC",
      "tables_used": ["SupplyPaymentTask"]
    },
    {
      "id": "supply_orders_today_029",
      "category": "filter",
      "complexity": "simple",
      "question_en": "Supply orders created today",
      "question_uk": "Замовлення постачальникам за сьогодні",
      "variations_en": ["today's purchases", "orders today"],
      "variations_uk": ["сьогоднішні закупівлі", "замовлення сьогодні"],
      "sql": "SELECT ID, Created, TotalSum, Status FROM dbo.SupplyOrder WHERE Deleted = 0 AND CAST(Created AS DATE) = CAST(GETDATE() AS DATE) ORDER BY Created DESC",
      "tables_used": ["SupplyOrder"]
    },
    {
      "id": "supply_vendor_with_agreements_030",
      "category": "list",
      "complexity": "medium",
      "question_en": "Vendors with their agreements count",
      "question_uk": "Постачальники з кількістю договорів",
      "variations_en": ["suppliers and contracts count"],
      "variations_uk": ["постачальники та договори"],
      "sql": "SELECT so.Name as VendorName, COUNT(soa.ID) as AgreementCount FROM dbo.SupplyOrganization so LEFT JOIN dbo.SupplyOrganizationAgreement soa ON soa.SupplyOrganizationID = so.ID AND soa.Deleted = 0 WHERE so.Deleted = 0 GROUP BY so.ID, so.Name ORDER BY AgreementCount DESC",
      "tables_used": ["SupplyOrganization", "SupplyOrganizationAgreement"]
    }
  ]
}
