# DataHub Recipe for MSSQL Ingestion
# This file configures automatic discovery and cataloging of MSSQL tables

source:
  type: mssql
  config:
    # Connection details
    host_port: "78.152.175.67:1433"
    database: "ConcordDb_v5"
    username: "ef_migrator"
    password: "Grimm_jow92"

    # Schema patterns to include/exclude
    schema_pattern:
      allow:
        - "dbo"
        - "sales"
        - "inventory"
      # deny:
      #   - "sys"
      #   - "INFORMATION_SCHEMA"

    # Table patterns
    table_pattern:
      allow:
        - "*"
      # deny:
      #   - "temp_*"

    # Profiling configuration
    profiling:
      enabled: true
      profile_table_level_only: false
      include_field_null_count: true
      include_field_min_value: true
      include_field_max_value: true
      include_field_mean_value: true
      include_field_median_value: false
      include_field_stddev_value: false
      include_field_quantiles: false
      include_field_distinct_value_frequencies: false
      include_field_histogram: false
      include_field_sample_values: true
      profile_sample_size: 10000

    # Extract lineage from SQL queries
    include_views: true
    include_tables: true

sink:
  type: datahub-rest
  config:
    server: "http://datahub-gms:8080"
